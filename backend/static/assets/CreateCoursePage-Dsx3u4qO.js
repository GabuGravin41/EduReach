import{r as o,j as e,T as C,P as w}from"./index-BxF1agQl.js";const S=({onCourseCreated:g,onCancel:p,lessonLimit:l,setView:i})=>{const[c,f]=o.useState(""),[u,v]=o.useState(""),[n,m]=o.useState(!0),[r,d]=o.useState([{title:"",videoId:""}]),j=()=>{if(r.length>=l){alert(`You have reached the maximum of ${l} lessons per course on your current plan. Please upgrade to add more.`),i("pricing");return}d([...r,{title:"",videoId:""}])},N=t=>{d(r.filter((a,s)=>s!==t))},b=(t,a,s)=>{const h=[...r];h[t][a]=s,d(h)},k=t=>{const a=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=t.match(a);return s?s[1]:t},y=t=>{t.preventDefault();const a={title:c,description:u,isPublic:n,lessons:r.map(s=>({...s,videoId:k(s.videoId),isCompleted:!1,duration:"N/A"})),thumbnail:"/placeholder.svg"};g(a)},x=r.length>=l;return e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create a New Course"}),e.jsxs("form",{onSubmit:y,className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg shadow-slate-900/5 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course Title"}),e.jsx("input",{type:"text",id:"title",value:c,onChange:t=>f(t.target.value),required:!0,className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",value:u,onChange:t=>v(t.target.value),rows:4,required:!0,className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Visibility"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"visibility",checked:n,onChange:()=>m(!0),className:"form-radio text-indigo-600"})," Public"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"visibility",checked:!n,onChange:()=>m(!1),className:"form-radio text-indigo-600"})," Private"]})]})]}),e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Lessons (",r.length,"/",l===1/0?"âˆž":l,")"]}),e.jsx("div",{className:"space-y-4",children:r.map((t,a)=>e.jsxs("div",{className:"flex items-end gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsxs("span",{className:"font-bold text-slate-500 dark:text-slate-400",children:[a+1,"."]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"Lesson Title"}),e.jsx("input",{type:"text",value:t.title,onChange:s=>b(a,"title",s.target.value),required:!0,placeholder:"e.g., Introduction to React",className:"w-full p-2 text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs font-medium mb-1",children:"YouTube URL or Video ID"}),e.jsx("input",{type:"text",value:t.videoId,onChange:s=>b(a,"videoId",s.target.value),required:!0,placeholder:"e.g., zNzzGgr2mhk",className:"w-full p-2 text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),e.jsx("button",{type:"button",onClick:()=>N(a),disabled:r.length<=1,className:"p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-md disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:e.jsx(C,{className:"w-5 h-5"})})]},a))}),e.jsxs("button",{type:"button",onClick:j,disabled:x,className:"flex items-center gap-2 text-sm font-semibold text-indigo-600 dark:text-indigo-400 mt-4 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(w,{className:"w-5 h-5"})," Add Another Lesson"]}),x&&e.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2",children:["You've reached the lesson limit for your current plan. ",e.jsx("button",{type:"button",onClick:()=>i("pricing"),className:"font-bold underline",children:"Upgrade"})," to add more."]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 font-semibold hover:bg-slate-300 dark:hover:bg-slate-600",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700",children:"Save Course"})]})]})]})};export{S as CreateCoursePage};
