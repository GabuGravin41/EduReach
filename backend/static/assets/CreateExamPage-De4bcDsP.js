import{r as o,j as e,T as C,P as T}from"./index-BxF1agQl.js";const b=()=>({type:"multiple-choice",questionText:"",options:["","","",""],correctAnswerIndex:null,correctAnswerText:""}),Q=({onExamCreated:x,onCancel:g})=>{const[d,p]=o.useState(""),[c,h]=o.useState(""),[u,f]=o.useState(""),[m,j]=o.useState(30),[n,l]=o.useState([b()]),v=()=>{l([...n,b()])},N=t=>{l(n.filter((s,a)=>a!==t))},i=(t,s,a)=>{const r=[...n];r[t][s]=a,s==="type"&&(r[t].options=["","","",""],r[t].correctAnswerIndex=null,r[t].correctAnswerText=""),l(r)},k=(t,s,a)=>{const r=[...n];r[t].options[s]=a,l(r)},w=t=>{t.preventDefault();const s={title:d,topic:c,description:u,time:Number(m),questions:n.length};x(s)};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Create a New Manual Exam"}),e.jsxs("form",{onSubmit:w,className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg shadow-slate-900/5 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Exam Title"}),e.jsx("input",{type:"text",id:"title",value:d,onChange:t=>p(t.target.value),required:!0,className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"topic",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Topic / Subject"}),e.jsx("input",{type:"text",id:"topic",value:c,onChange:t=>h(t.target.value),required:!0,className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",value:u,onChange:t=>f(t.target.value),rows:3,className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Time Limit (minutes)"}),e.jsx("input",{type:"number",id:"time",value:m,onChange:t=>j(Number(t.target.value)),required:!0,min:"1",className:"w-full p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Questions"}),n.map((t,s)=>e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"block text-sm font-bold",children:["Question ",s+1]}),e.jsxs("select",{value:t.type,onChange:a=>i(s,"type",a.target.value),className:"p-1 text-sm rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),e.jsx("option",{value:"essay",children:"Essay"}),e.jsx("option",{value:"short-answer",children:"Short Answer"})]})]}),e.jsx("button",{type:"button",onClick:()=>N(s),disabled:n.length<=1,className:"p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-md disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:e.jsx(C,{className:"w-4 h-4"})})]}),e.jsx("textarea",{value:t.questionText,onChange:a=>i(s,"questionText",a.target.value),placeholder:"e.g., What is the capital of France?",rows:2,required:!0,className:"w-full p-2 text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-1 focus:ring-indigo-500 resize-none mb-3"}),t.type==="multiple-choice"&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.options.map((a,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:`q_${s}_correct`,checked:t.correctAnswerIndex===r,onChange:()=>i(s,"correctAnswerIndex",r),required:!0,className:"form-radio text-indigo-600 flex-shrink-0"}),e.jsx("input",{type:"text",value:a,onChange:y=>k(s,r,y.target.value),placeholder:`Option ${r+1}`,required:!0,className:"w-full p-2 text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-1 focus:ring-indigo-500"})]},r))}),t.type==="short-answer"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Correct Answer"}),e.jsx("input",{type:"text",value:t.correctAnswerText,onChange:a=>i(s,"correctAnswerText",a.target.value),placeholder:"Enter the exact correct answer",required:!0,className:"w-full p-2 text-sm rounded-lg border border-slate-300 dark:border-slate-600 bg-transparent focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),t.type==="essay"&&e.jsx("div",{className:"p-2 text-center bg-slate-100 dark:bg-slate-600/50 rounded-md",children:e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Essay questions are graded manually. No correct answer needed here."})})]},s)),e.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-2 text-sm font-semibold text-indigo-600 dark:text-indigo-400 mt-2",children:[e.jsx(T,{className:"w-5 h-5"})," Add Another Question"]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:g,className:"px-6 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 font-semibold hover:bg-slate-300 dark:hover:bg-slate-600",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-700",children:"Save Exam"})]})]})]})};export{Q as CreateExamPage};
