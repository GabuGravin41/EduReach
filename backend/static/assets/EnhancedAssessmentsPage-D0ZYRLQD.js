import{j as e,r as d,U as S,C as c,b as f,B as k,S as I,c as z}from"./index-BxF1agQl.js";const j=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M14.5 17.5 22 10l-2-2-6 6-1 1"}),e.jsx("path",{d:"m18 6-4-4-1.5 1.5"}),e.jsx("path",{d:"m6.5 13.5-5 5"}),e.jsx("path",{d:"M2 22l5-5"}),e.jsx("path",{d:"M9.5 6.5 2 14l-2 2 6-6 1-1"}),e.jsx("path",{d:"m6 2-4 4 1.5 1.5"})]}),T=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),F=[{id:1,name:"Alice"},{id:2,name:"Bob"},{id:3,name:"Charlie"},{id:4,name:"David"},{id:5,name:"Eve"}],q=({examTitle:t,onClose:m})=>{const[l,u]=d.useState(null);return e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 w-full max-w-md relative animate-in fade-in zoom-in-95 duration-300",children:[e.jsx("button",{onClick:m,className:"absolute top-4 right-4 text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",children:e.jsx(T,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-3 bg-rose-100 dark:bg-rose-900/50 rounded-full mb-4",children:e.jsx(j,{className:"w-8 h-8 text-rose-500"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Challenge a Friend"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-1",children:"You are challenging a friend to:"}),e.jsx("p",{className:"font-semibold text-indigo-600 dark:text-indigo-400 mb-6",children:t}),e.jsxs("div",{className:"w-full text-left mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Select a friend:"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:F.map(a=>e.jsxs("button",{onClick:()=>u(a.id),className:`w-full flex items-center gap-3 p-2 rounded-lg border-2 transition-colors ${l===a.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/50":"border-transparent hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[e.jsx(S,{className:"w-8 h-8 text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:a.name})]},a.id))})]}),e.jsx("button",{onClick:m,disabled:!l,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors duration-300 disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed",children:"Send Challenge"})]})]})})},E={free:{name:"Free - Get Started",assessments_per_month:5,ai_generated_per_month:2,youtube_ai_quizzes:2,can_create_essay:!1,can_create_passage:!1,can_access_community:"read_only",can_use_ai:!0,can_create_advanced:!1,can_access_youtube:!0,max_questions_per_exam:10,features:["ðŸ“º YouTube Video Learning (Full Access)","ðŸ¤– 2 Free AI Assessments","ðŸ“ Basic Assessments (MC, T/F)","ðŸ‘€ Community Browsing","ðŸ“Š Basic Progress Tracking"],price:"Free"},learner:{name:"Learner - AI-Powered Learning",assessments_per_month:50,ai_generated_per_month:10,youtube_ai_quizzes:"unlimited",can_create_essay:!0,can_create_passage:!1,can_access_community:!0,can_use_ai:!0,can_create_advanced:!1,can_access_youtube:!0,has_ai_essay_grading:!0,max_questions_per_exam:50,features:["ðŸ“º Unlimited YouTube Learning","ðŸ¤– AI Quiz Generation (10/month)","âœï¸ Essay Questions + Basic AI Grading","ðŸ’¬ Full Community Access","ðŸ“Š Video Learning Sessions"],price:"$4.99/month"},pro:{name:"Pro - Advanced Creator",assessments_per_month:"unlimited",ai_generated_per_month:"unlimited",youtube_ai_quizzes:"unlimited",can_create_essay:!0,can_create_passage:!0,can_access_community:!0,can_use_ai:!0,can_create_advanced:!0,can_share_assessments:!0,can_create_courses:!0,has_advanced_analytics:!0,has_ai_essay_grading:"advanced",max_questions_per_exam:"unlimited",features:["ðŸ”„ All Assessment Types (Cloze, Matching, Ordering)","ðŸ“š Course Creation & Management","ðŸ“ˆ Advanced Analytics & Learning Gaps","ðŸ’° Share & Monetize Content","ðŸŽ¯ Real-time Features"],price:"$9.99/month"},pro_plus:{name:"Premium - Ultimate Platform",assessments_per_month:"unlimited",ai_generated_per_month:"unlimited",youtube_ai_quizzes:"unlimited",can_create_essay:!0,can_create_passage:!0,can_access_community:!0,can_use_ai:!0,can_create_advanced:!0,can_share_assessments:!0,can_create_courses:!0,has_adaptive_testing:!0,has_ai_tutor:!0,has_priority_ai:!0,has_advanced_analytics:!0,has_export_tools:!0,has_admin_tools:!0,max_questions_per_exam:"unlimited",features:["ðŸ§  Adaptive AI Testing","ðŸ¤– AI Tutor & Assistant","ðŸ“„ Unlimited Exports (PDF/Word)","ðŸ·ï¸ Custom Branding & White-label","ðŸ‘‘ Admin Tools & Priority Support"],price:"$19.99/month"},admin:{name:"Admin",assessments_per_month:"unlimited",ai_generated_per_month:"unlimited",youtube_ai_quizzes:"unlimited",can_create_essay:!0,can_create_passage:!0,can_access_community:!0,can_use_ai:!0,can_create_advanced:!0,can_share_assessments:!0,can_create_courses:!0,has_adaptive_testing:!0,has_ai_tutor:!0,has_priority_ai:!0,has_advanced_analytics:!0,has_export_tools:!0,has_admin_tools:!0,max_questions_per_exam:"unlimited",features:["ðŸ‘‘ Full Platform Access","ðŸ‘¥ User Management","ðŸ“Š Platform Analytics","ðŸ”§ System Administration"],price:"Admin"}},L=t=>{switch(t){case"easy":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"medium":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900/30";case"hard":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";default:return"text-slate-600 bg-slate-100 dark:text-slate-400 dark:bg-slate-700"}},M=t=>!t||t.length===0?e.jsx(c,{className:"w-4 h-4"}):t.includes("essay")?e.jsx(f,{className:"w-4 h-4"}):t.includes("passage")?e.jsx(k,{className:"w-4 h-4"}):e.jsx(c,{className:"w-4 h-4"}),D=({assessments:t,onSelectExam:m,setView:l,userTier:u,tierUsage:a})=>{const[y,h]=d.useState(!1),[v,N]=d.useState(""),[i,x]=d.useState("all"),[g,w]=d.useState("recent"),r=E[u],C=a.assessments_used<a.assessments_limit,p=Math.ceil((new Date(a.resets_at).getTime()-Date.now())/(1e3*60*60*24)),A=(s,n)=>{s.stopPropagation(),N(n),h(!0)},o=s=>{if(!C){alert(`You've reached your monthly limit of ${a.assessments_limit} assessments. Resets in ${p} days.`),l("pricing");return}switch(s){case"multiple_choice":l("create_exam");break;case"essay":if(!r.can_create_essay){alert("Essay exams are available for Pro and Pro Plus users. Please upgrade to access this feature."),l("pricing");return}alert("Essay exam creator coming soon!");break;case"passage":if(!r.can_create_passage){alert("Passage-based exams are available for Learner, Pro, and Pro Plus users. Please upgrade to access this feature."),l("pricing");return}alert("Passage exam creator coming soon!");break;case"ai_generated":if(!r.can_use_ai){alert("AI-generated quizzes are available for Learner, Pro, and Pro Plus users. Please upgrade to access this feature."),l("pricing");return}l("generate_ai_quiz");break}},_=[...t.filter(s=>i==="completed"?s.status==="completed":i==="pending"?s.status!=="completed":!0)].sort((s,n)=>{switch(g){case"difficulty":const b={easy:1,medium:2,hard:3};return(b[s.difficulty||"medium"]||2)-(b[n.difficulty||"medium"]||2);case"score":if(s.status==="completed"&&n.status==="completed"){const P=parseFloat(s.score.split("/")[0])/parseFloat(s.score.split("/")[1])||0;return(parseFloat(n.score.split("/")[0])/parseFloat(n.score.split("/")[1])||0)-P}return 0;case"recent":default:return new Date(n.created_at||"").getTime()-new Date(s.created_at||"").getTime()}});return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Assessments"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Create and take assessments to test your knowledge"})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monthly Usage"}),e.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:[a.assessments_used," / ",a.assessments_limit===1/0?"âˆž":a.assessments_limit]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500",children:a.assessments_limit!==1/0&&`Resets in ${p} days`})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-slate-700 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Create New Assessment"}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Current Plan: ",e.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:r.name})," - ",r.price]})]}),u==="free"&&e.jsx("button",{onClick:()=>l("pricing"),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors font-medium",children:"Upgrade for AI & Community Access"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>o("multiple_choice"),className:"p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-600 hover:border-indigo-300 dark:hover:border-indigo-500 transition-colors group",children:[e.jsx(c,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Multiple Choice"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Traditional quiz format"})]}),e.jsxs("button",{onClick:()=>o("essay"),className:`p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors group ${r.can_create_essay?"hover:border-green-300 dark:hover:border-green-500":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(f,{className:"w-8 h-8 text-green-600 dark:text-green-400 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Essay Exams"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:r.can_create_essay?"Long-form responses":"Pro+ feature"})]}),e.jsxs("button",{onClick:()=>o("passage"),className:`p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors group ${r.can_create_passage?"hover:border-purple-300 dark:hover:border-purple-500":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(k,{className:"w-8 h-8 text-purple-600 dark:text-purple-400 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"Passage-Based"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:r.can_create_passage?"Reading comprehension":"Learner+ feature"})]}),e.jsxs("button",{onClick:()=>o("ai_generated"),className:`p-4 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-600 transition-colors group ${r.can_use_ai?"hover:border-teal-300 dark:hover:border-teal-500":"opacity-50 cursor-not-allowed"}`,children:[e.jsx(I,{className:"w-8 h-8 text-teal-600 dark:text-teal-400 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100",children:"AI Generated"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:r.can_use_ai?"Smart quiz creation":"Learner+ feature"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="all"?"bg-indigo-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:["All (",t.length,")"]}),e.jsxs("button",{onClick:()=>x("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="pending"?"bg-indigo-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:["Pending (",t.filter(s=>s.status!=="completed").length,")"]}),e.jsxs("button",{onClick:()=>x("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i==="completed"?"bg-indigo-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:["Completed (",t.filter(s=>s.status==="completed").length,")"]})]}),e.jsxs("select",{value:g,onChange:s=>w(s.target.value),className:"px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"recent",children:"Sort by Recent"}),e.jsx("option",{value:"difficulty",children:"Sort by Difficulty"}),e.jsx("option",{value:"score",children:"Sort by Score"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(s=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:M(s.question_types)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:s.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.topic})]})]}),s.difficulty&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L(s.difficulty)}`,children:s.difficulty})]}),s.description&&e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{className:"w-4 h-4"}),s.questions," Questions"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"w-4 h-4"}),s.time," mins"]})]}),s.status==="completed"&&e.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Last Score"}),e.jsx("span",{className:"font-bold text-lg text-teal-600 dark:text-teal-400",children:s.score})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>m(s.id),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:s.status==="completed"?"Review":"Start Exam"}),e.jsx("button",{onClick:n=>A(n,s.title),className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:e.jsx(j,{className:"w-4 h-4"})})]})]})},s.id))}),_.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-600 dark:text-slate-400 mb-2",children:i==="all"?"No assessments yet":`No ${i} assessments`}),e.jsx("p",{className:"text-slate-500 dark:text-slate-500 mb-6",children:"Create your first assessment to get started with testing your knowledge."}),e.jsx("button",{onClick:()=>o("multiple_choice"),className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Create Assessment"})]}),y&&e.jsx(q,{examTitle:v,onClose:()=>h(!1)})]})};export{D as EnhancedAssessmentsPage};
