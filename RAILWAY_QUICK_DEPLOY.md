# üöÄ RAILWAY DEPLOYMENT - QUICK START

**Your Deployment URLs:**
- Backend: https://edureach-production.up.railway.app
- Frontend: https://melodious-cooperation-production.up.railway.app

---

## ‚ö° 5-MINUTE QUICK START

### What You Need:
‚úÖ GitHub account (push code there)  
‚úÖ Railway.app account  
‚úÖ Your two Railway projects already created (backend & frontend)

### Backend Deployment (5 min)

1. **Push backend code to GitHub**
```bash
cd backend
git add .
git commit -m "Production ready"
git push origin main
```

2. **On Railway.app Dashboard:**
   - Go to your Backend project
   - Settings ‚Üí Root Directory ‚Üí `backend`
   - Save

3. **Add variables in Railway:**
```
DEBUG=False
SECRET_KEY=<generate new>
ALLOWED_HOSTS=edureach-production.up.railway.app
CORS_ALLOWED_ORIGINS=https://melodious-cooperation-production.up.railway.app
GEMINI_API_KEY=<your-key>
```

4. **Push code ‚Üí Railway auto-deploys**

5. **Run migrations (after deploy):**
```
Railway Console ‚Üí python manage.py migrate
```

### Frontend Deployment (5 min)

1. **Push frontend code to GitHub**
```bash
git add .
git commit -m "Production ready"
git push origin main
```

2. **On Railway.app Dashboard:**
   - Go to your Frontend project
   - Settings ‚Üí Root Directory ‚Üí `.` (root)
   - Build Command ‚Üí `npm run build`
   - Start Command ‚Üí `npx serve -s dist -l $PORT`

3. **Add variables in Railway:**
```
VITE_API_BASE_URL=https://edureach-production.up.railway.app/api
NODE_ENV=production
```

4. **Push code ‚Üí Railway auto-deploys**

5. **Test:**
   - Visit: https://melodious-cooperation-production.up.railway.app
   - Should see login page
   - Try logging in

---

## üîë Environment Variables Needed

### Backend Variables
```
DEBUG=False
SECRET_KEY=django-insecure-<generate-new-one>
ALLOWED_HOSTS=edureach-production.up.railway.app
CORS_ALLOWED_ORIGINS=https://melodious-cooperation-production.up.railway.app
GEMINI_API_KEY=<your-gemini-api-key>
ENVIRONMENT=production
DATABASE_URL=<auto-generated-by-postgresql>
```

### Frontend Variables
```
VITE_API_BASE_URL=https://edureach-production.up.railway.app/api
NODE_ENV=production
```

---

## üìã Files Ready to Deploy

| File | Status | Purpose |
|------|--------|---------|
| `backend/Procfile` | ‚úÖ Ready | Tells Railway how to run Django |
| `backend/runtime.txt` | ‚úÖ Ready | Python 3.11 specified |
| `backend/requirements.txt` | ‚úÖ Ready | All dependencies |
| `railway.json` | ‚úÖ Ready | Frontend config |
| `package.json` | ‚úÖ Ready | Frontend deps |
| `vite.config.ts` | ‚úÖ Ready | Build config |
| `server.js` | ‚úÖ Ready | Express server |

---

## üß™ Testing Checklist

After deployment, test:
- [ ] Backend API responds: `curl https://edureach-production.up.railway.app/api/`
- [ ] Frontend loads: Visit `https://melodious-cooperation-production.up.railway.app`
- [ ] Can register new user
- [ ] Can create course
- [ ] Can add video
- [ ] Can write notes
- [ ] Can download notes
- [ ] AI features work
- [ ] No console errors (F12)

---

## üêõ Common Issues & Quick Fixes

### Backend shows 500 error
```
Check:
1. Environment variables set? (Rails Variables tab)
2. Migrations run? (Rails Console: python manage.py migrate)
3. PostgreSQL connected? (Rails should auto-create it)
```

### Frontend is blank
```
Check:
1. Build successful? (Check deploy logs)
2. Is API URL correct? (VITE_API_BASE_URL)
3. Browser console (F12) for errors
```

### CORS error
```
Fix:
1. Check CORS_ALLOWED_ORIGINS includes frontend domain
2. Restart backend service
3. Clear browser cache
```

---

## üìû Useful Commands

### Generate SECRET_KEY
```bash
python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
```

### Run backend locally to verify
```bash
cd backend
python manage.py runserver
```

### Build frontend locally to verify
```bash
npm run build
npm start
```

### Test backend API
```bash
curl https://edureach-production.up.railway.app/api/
```

---

## üöÄ DEPLOY NOW!

You have everything ready. Just:

1. Set environment variables on Railway
2. Push code to GitHub
3. Let Railway auto-deploy
4. Test

**Expected time: 20-30 minutes**

---

*See RAILWAY_DEPLOYMENT_SETUP.md for detailed step-by-step guide*
